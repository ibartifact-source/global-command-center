<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>body { background: transparent; color: white; }</style>
</head>
<body class="p-4">
    <div class="bg-slate-900/95 p-6 rounded-2xl border-2 border-blue-500/50 max-w-md mx-auto shadow-[0_0_20px_rgba(59,130,246,0.2)]">
        <div class="flex justify-between items-center mb-4">
            <h2 class="text-blue-500 text-xs font-black uppercase tracking-[0.2em]">Engineer Receiver</h2>
            <button onclick="window.location.reload()" class="bg-blue-600 text-white text-[10px] font-black px-4 py-1.5 rounded-full hover:bg-blue-500 transition-all shadow-lg">
                ðŸ”ƒ SYNC & TRANSLATE
            </button>
        </div>
        
        <div id="signalDisplay" class="bg-black/80 p-8 rounded-xl border border-white/10 min-h-[120px] flex items-center justify-center font-bold text-xl text-slate-100 text-center leading-relaxed">
            Waiting for Director...
        </div>
        
        <p class="text-[9px] text-slate-500 mt-4 text-center font-bold italic tracking-widest">
            Click SYNC to trigger Google Translate auto-refresh
        </p>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
        import { getFirestore, doc, onSnapshot } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-firestore.js";
        const firebaseConfig = { apiKey: "AIzaSyDCOnj1LQU3BqCrbec9VP9Wg1v-AJrrpMw", authDomain: "global-command-center-6235f.firebaseapp.com", projectId: "global-command-center-6235f", storageBucket: "global-command-center-6235f.firebasestorage.app", messagingSenderId: "241628307606", appId: "1:241628307606:web:7d5e3f60394671632062b7" };
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        onSnapshot(doc(db, "signals", "d_to_e"), (snap) => {
            if (snap.exists()) {
                document.getElementById('signalDisplay').innerText = snap.data().msg;
                document.querySelector('button').classList.add('animate-bounce');
            }
        });
    </script>
</body>
</html>
